<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oç altınsoylar - Çoklu Dil Ses</title>
    <style>
        /* (stil kodları senin gönderdiğin gibi kalıyor) */
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="header-icon">🎧</span>
            <h1>Oç altınsoylar</h1>
            <p class="subtitle">Seslerinizi farklı dillerde paylaşın</p>
        </header>

        <div class="main-content">
            <!-- Upload Section -->
            <div class="upload-section">
                <h2 class="upload-title">🎵 Ses Yükleme</h2>
                <div class="success-message" id="successMessage">
                    ✅ Ses dosyaları başarıyla yüklendi!
                </div>
                <div class="language-grid">
                    <!-- (senin upload inputların aynı şekilde kalıyor) -->
                </div>
                <button class="upload-btn" onclick="uploadAudios()">🚀 Sesleri Yükle</button>
            </div>

            <!-- Audio Player Section -->
            <div class="audio-section">
                <h2 class="section-title">🎵 Ses Dinleme</h2>
                <div class="language-selector">
                    <!-- (senin butonların aynı şekilde kalıyor) -->
                </div>

                <div style="text-align: center;">
                    <div class="current-language" id="currentLanguage">
                        Bir dil seçin
                    </div>
                </div>

                <div class="audio-container">
                    <div class="no-audio" id="noAudio">
                        <div class="play-icon">🎵</div>
                        Ses dinlemek için önce bir dil seçin ve ses dosyası yükleyin
                    </div>
                    <audio class="audio-player" id="audioPlayer" controls style="display: none;">
                        Tarayıcınız ses oynatmayı desteklemiyor.
                    </audio>
                    <iframe id="youtubeFrame" width="560" height="315" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen style="display:none; border-radius:15px; margin-top:20px;"></iframe>
                    <div class="audio-info" id="audioInfo" style="display: none;">
                        🎧 Ses dosyası başarıyla yüklendi
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let uploadedAudios = {};
        let currentLang = null;

        const languageNames = {
            tr: 'Türkçe',
            en: 'English', 
            es: 'Español',
            fr: 'Français',
            de: 'Deutsch',
            it: 'Italiano',
            ru: 'Русский',
            ja: '日本語',
            ko: '한국어',
            zh: '中文'
        };

        // YouTube embed linkleri
        const youtubeLinks = {
            it: "https://www.youtube.com/embed/z9m5UXV-tGE",
            fr: "https://www.youtube.com/embed/MNtbpUvCPrE",
            de: "https://www.youtube.com/embed/E_0xjylbMeI",
            ko: "https://www.youtube.com/embed/ESPkfsjpXow",
            es: "https://www.youtube.com/embed/90yOY_pXR6k",
            en: "https://www.youtube.com/embed/rXnaDLH1DKI",
            ru: "https://www.youtube.com/embed/pj5mNjq_66Q",
            tr: "https://www.youtube.com/embed/CRAXK5a4lJ4"
        };

        function handleFileSelect(input) {
            const file = input.files[0];
            const lang = input.dataset.lang;
            if (file) {
                if (file.size > 50 * 1024 * 1024) {
                    alert('Dosya boyutu 50MB\'dan küçük olmalıdır.');
                    input.value = '';
                    return;
                }
                if (!file.type.startsWith('audio/')) {
                    alert('Lütfen geçerli bir ses dosyası seçin.');
                    input.value = '';
                    return;
                }
                const url = URL.createObjectURL(file);
                uploadedAudios[lang] = { file, url, name: file.name };
            }
        }

        function uploadAudios() {
            const uploadedCount = Object.keys(uploadedAudios).length;
            if (uploadedCount === 0) {
                alert('Lütfen en az bir ses dosyası seçin.');
                return;
            }
            const successMsg = document.getElementById('successMessage');
            successMsg.style.display = 'block';
            successMsg.innerHTML = `✅ ${uploadedCount} ses dosyası başarıyla yüklendi!`;
            setTimeout(() => { successMsg.style.display = 'none'; }, 3000);
        }

        function selectLanguage(lang) {
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
            currentLang = lang;
            document.getElementById('currentLanguage').innerHTML = `🎵 Seçili Dil: ${languageNames[lang]}`;
            updateAudioPlayer(lang);
        }

        function updateAudioPlayer(lang) {
            const audioPlayer = document.getElementById('audioPlayer');
            const youtubeFrame = document.getElementById('youtubeFrame');
            const noAudio = document.getElementById('noAudio');
            const audioInfo = document.getElementById('audioInfo');

            if (uploadedAudios[lang]) {
                audioPlayer.src = uploadedAudios[lang].url;
                audioPlayer.style.display = 'block';
                youtubeFrame.style.display = 'none';
                noAudio.style.display = 'none';
                audioInfo.style.display = 'block';
                audioInfo.innerHTML = `🎧 ${uploadedAudios[lang].name}`;
            } else if (youtubeLinks[lang]) {
                youtubeFrame.src = youtubeLinks[lang];
                youtubeFrame.style.display = 'block';
                audioPlayer.style.display = 'none';
                audioInfo.style.display = 'block';
                audioInfo.innerHTML = `▶️ ${languageNames[lang]} için YouTube videosu açıldı`;
                noAudio.style.display = 'none';
            } else {
                audioPlayer.style.display = 'none';
                youtubeFrame.style.display = 'none';
                audioInfo.style.display = 'none';
                noAudio.style.display = 'block';
                noAudio.innerHTML = `<div class="play-icon">🎵</div>${languageNames[lang]} dilinde henüz ses bulunamadı`;
            }
        }

        window.onload = function() { selectLanguage('tr'); };

        window.addEventListener('beforeunload', () => {
            Object.values(uploadedAudios).forEach(audio => {
                if (audio.url) URL.revokeObjectURL(audio.url);
            });
        });
    </script>
</body>
</html>
